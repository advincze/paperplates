<link rel="import" href="/bower_components/polymer/polymer.html">

<polymer-element name="pp-plate" attributes="size" adamdrop="pp-menuitem" >
<template>
	<style type="text/css">
		#circle {
			margin: 20px;
			background: {{ color }};
			width: {{size}};
			height: {{size}};
			border-radius: 50%;
		}
		#content {
			width:200px;
			position: relative;
			top:50%;
			left: 50%;
			margin-left: -55px;
		}
	</style>
	<div id="circle" on-mouseover="{{ enterHandler }}" on-mouseout="{{ leaveHandler }}" >
		<div id="content" >
			<span>I'm a <b>Plate</b>. {{ totalcalories }} kcal</span>
			<ul>
				<template repeat="{{ content in contents }}">
					<li>{{ content }}</li>
				</template>
			</ul>
		<div>
	</div>
</template>
<script>
	Polymer('pp-plate', {
		ready: function() {
			console.log("initializing plate");
			this.addEventListener('adam-drop', function(e) {
				this.totalcalories += e.detail.calories;
				this.contents.push(e.detail.name);
			});
		},
		publish: {
			totalcalories: 0,
			color: "#eee",
			size: "400px"
		},
		created: function() {
			this.contents= [];
		},
		enterHandler: function(){
			this.color= "#888";
		},
		leaveHandler: function(){
			this.color= "#eee";
		}

	});
</script>
</polymer-element>
